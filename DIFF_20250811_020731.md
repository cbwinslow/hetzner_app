## Changes on 2025-08-11 at 02:07:31
- Wrapped the body of `generate_stream` in `try/except/finally` to ensure robust error handling and cleanup.
- On exceptions, the stream now yields an `error` SSE event containing the message.
- Added a `finally` block to close any partially started runs and always send a terminating `end` event.
